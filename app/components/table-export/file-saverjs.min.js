!function(a,b){"object"==typeof exports&&"string"!=typeof exports.nodeName?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("FileSaver requires a window with a document");return b(a)}:b(a)}(window||this,function(a,b){"use strict";if(!("undefined"==typeof a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var c=a.document,d=function(){return a.URL||a.webkitURL||a},e=c.createElementNS("http://www.w3.org/1999/xhtml","a"),f="download"in e,g=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},h=/constructor/i.test(a.HTMLElement)||a.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),j=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},k="application/octet-stream",l=4e4,m=function(a){var b=function(){"string"==typeof a?d().revokeObjectURL(a):a.remove()};setTimeout(b,l)},n=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(a){j(a)}}},o=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a},p=function(b,c,j){j||(b=o(b));var r,l=this,p=b.type,q=p===k,s=function(){n(l,"writestart progress write writeend".split(" "))},t=function(){if((i||q&&h)&&a.FileReader){var c=new FileReader;return c.onloadend=function(){var b=i?c.result:c.result.replace(/^data:[^;]*;/,"data:attachment/file;"),d=a.open(b,"_blank");d||(a.location.href=b),b=void 0,l.readyState=l.DONE,s()},c.readAsDataURL(b),void(l.readyState=l.INIT)}if(r||(r=d().createObjectURL(b)),q)a.location.href=r;else{var e=a.open(r,"_blank");e||(a.location.href=r)}l.readyState=l.DONE,s(),m(r)};return l.readyState=l.INIT,f?(r=d().createObjectURL(b),void setTimeout(function(){e.href=r,e.download=c,g(e),s(),m(r),l.readyState=l.DONE})):void t()},q=p.prototype,r=function(a,b,c){return new p(a,b||a.name||"download",c)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(a,b,c){return b=b||a.name||"download",c||(a=o(a)),navigator.msSaveOrOpenBlob(a,b)}:(q.abort=function(){},q.readyState=q.INIT=0,q.WRITING=1,q.DONE=2,q.error=q.onwritestart=q.onprogress=q.onwrite=q.onabort=q.onerror=q.onwriteend=null,"function"==typeof define&&define.amd&&define("file-saverjs",[],function(){return r}),"undefined"==typeof b&&(a.saveAs=r),r)}});