<div id="Filters">
    <h3>
        <a ng-click="showNationalFilters=!showNationalFilters" ng-href="#" style="color:#287fcb"><i class="fa" ng-class="{'fa-caret-right':!showNationalFilters, 'fa-caret-down':showNationalFilters}"></i> &nbsp; National Records</a>
    </h3>
<style>
label{width:100%;}
</style>

    <div class="main_filter" ng-show="showNationalFilters || measure.selected" ng-class="{'check_active': measure.selected}">

        <label>
            <span class="badge badge-white pull-right">{{measure.count}}</span>
            <input type="checkbox" ng-model="measure.selected" bind-indeterminate="measure.indeterminate" ng-change="refresh(measure.selected,'measure')">
            <span class="filter-text">Legislative, administrative or policy measures </span>
        </label>

        <div ng-show="measure.selected" class="subfilters-section">
            <div km-select multiple ng-model="msrJurisdiction" binding-type="string" placeholder="Jurisdictions" items="options.jurisdiction()"></div>
            <br>
            <div km-select multiple ng-model="msrStatus" binding-type="string" placeholder="Status" items="options.status()"></div>
            <br>
            <div km-select multiple ng-model="msrType" binding-type="string" placeholder="Types" items="options.typeOfDocuments()"></div>
            <!-- <br>
            <div search-filter-dates title='Date of Adoption' query='msrAdoptionDate' field="adoption_s"></div>
            <br>
            <div search-filter-dates title='Date of Retirement' query='msrRetirementDate' field="retired_s"></div>
            <br>
            <div search-filter-dates title='Entry into Force' query='msrEntryinForceDate' field="entryIntoForce_s"></div>
            <br>
            <div search-filter-dates title='Date of application' query='mssApplicationDate' field="limitedApplication_s"></div> -->
        </div>
    </div>


    <div class="main_filter" ng-show="showNationalFilters || focalPoint.selected" ng-class="{'check_active': focalPoint.selected}">
        <label>
            <span class="badge badge-white pull-right">{{focalPoint.count}}</span>
            <input type="checkbox" ng-model="focalPoint.selected" bind-indeterminate="focalPoint.indeterminate" ng-change="refresh(focalPoint.selected,'focalPoint')">
            <span class="filter-text">National Focal Points </span>
        </label>

    </div>

    <div class="main_filter" ng-show="showNationalFilters || authority.selected" ng-class="{'check_active': authority.selected}">
        <label>
            <span class="badge badge-white pull-right">{{authority.count}}</span>
            <input type="checkbox" ng-model="authority.selected" bind-indeterminate="authority.indeterminate" ng-change="refresh(authority.selected,'authority')">
            <span class="filter-text">Competent National Authorities  </span>
        </label>
        <div ng-show="authority.selected" class="subfilters-section">
            <!-- <div km-toggle placeholder="Responsible for all functions" ng-model="cnaResponsibleForAll"></div> -->
            <div class="btn-group" >
                <button style="button" class="btn btn-default dropdown-toggle"  data-toggle="dropdown">
                    <span ng-show="cnaResponsibleForAll"  style="color:#428BCA">Responsible for all functions </span>
                    <span ng-show="!cnaResponsibleForAll && cnaResponsibleForAll!=null"  style="color:#428BCA">Not responsible for all functions </span>
                    <span ng-show="cnaResponsibleForAll==null" style="color:#428BCA">Both responsible and not</span>
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" style="max-height:400px;overflow-y:auto;text-align:left">
                    <li >
                        <a style="color:#999;" href ng-click="cnaResponsibleForAll=null;buildQuery()" value="null"
                        ng-model="cnaResponsibleForAll" name="cnaResponsibleForAll">clear selection</a>
                    </li>
                    <li>
                        <a href ng-click="cnaResponsibleForAll=true;buildQuery()" value="true"  ng-model="cnaResponsibleForAll" name="cnaResponsibleForAll">
                        <span ng-show="cnaResponsibleForAll==true" class="glyphicon glyphicon-ok"></span>Responsible for all functions </a>
                    </li>
                    <li>
                        <a href ng-click="cnaResponsibleForAll=false;buildQuery()" value="false"  ng-model="cnaResponsibleForAll" name="cnaResponsibleForAll">
                        <span ng-show="cnaResponsibleForAll==false" class="glyphicon glyphicon-ok"></span>Not responsible for all functions </a>
                    </li>
                    <li >
                        <a href ng-click="cnaResponsibleForAll=null;buildQuery()" value="null"  ng-model="cnaResponsibleForAll" name="cnaResponsibleForAll">
                        <span ng-show="cnaResponsibleForAll==null" class="glyphicon glyphicon-ok"></span>Both responsible and not</a>
                    </li>

                </ul>
            </div>
            <br>
            <div km-select multiple ng-model="cnaJurisdiction" binding-type="string" placeholder="Jurisdictions" items="options.cnaJurisdictions()"></div>
            <br>
            <div km-select multiple ng-model="cnaGeneticResourceTypes" binding-type="string" placeholder="Genetic Resource Types" items="options.absGeneticResourceTypes()"></div>
        </div>
    </div>

    <div class="main_filter" ng-show="showNationalFilters || database.selected" ng-class="{'check_active': database.selected}">
        <label>
              <span class="badge badge-white pull-right">{{database.count}}</span>
            <input type="checkbox" ng-model="database.selected" bind-indeterminate="database.indeterminate" ng-change="refresh(database.selected,'database')">
            <span class="filter-text">National Websites and Databases</span>
        </label>
    </div>



    <div class="main_filter" ng-show="showNationalFilters || absPermit.selected" ng-class="{'check_active': absPermit.selected}">
        <label>
             <span class="badge badge-white pull-right">{{absPermit.count}}</span>
            <input type="checkbox" ng-model="absPermit.selected" bind-indeterminate="absPermit.indeterminate" ng-change="refresh(absPermit.selected,'absPermit')">
            <span class="filter-text">Internationally Recognized Certificate of Compliance </span>
        </label>
        <div ng-show="absPermit.selected" class="subfilters-section">
            <div km-select multiple required name="permitusage" ng-model="permitusage" items="options.usage()" placeholder="Intent"></div>
            <br>
            <div km-select multiple required name="permitkeywords" ng-model="permitkeywords" items="options.keywords()" placeholder="Keywords"></div>
            <br>
            <span search-filter-dates title='Date of issuance of the permit' query='permitIssuanceDate' field="expiration_s"></span>
            <br>


            <div class="btn-group" >
            <button style="button" class="btn btn-default dropdown-toggle"  data-toggle="dropdown">
                <span>Amendments</span>
                <span ng-show="amendmentIntent==0"  style="color:#428BCA">: Amended </span>
                <span ng-show="amendmentIntent==1"  style="color:#428BCA">: Revoked </span>
                <span ng-show="amendmentIntent==-1" style="color:#428BCA">: None </span>
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" style="max-height:400px;overflow-y:auto;text-align:left">
                <li >
                    <a style="color:#999;" href ng-click="amendmentIntent=-2;buildQuery()" value="undefined"  ng-model="amendmentIntent" name="amendmentIntent">clear selection</a>
                </li>
                <li>
                    <a href ng-click="amendmentIntent=-1;buildQuery()" value="-1"  ng-model="amendmentIntent" name="amendmentIntent">
                    <span ng-show="amendmentIntent==-1" class="glyphicon glyphicon-ok"></span> none</a>
                </li>
                <li>
                    <a href ng-click="amendmentIntent=0;buildQuery()" value="0"  ng-model="amendmentIntent" name="amendmentIntent">
                    <span ng-show="amendmentIntent==0" class="glyphicon glyphicon-ok"></span> amended</a>
                </li>
                <li >
                    <a href ng-click="amendmentIntent=1;buildQuery()" value="1"  ng-model="amendmentIntent" name="amendmentIntent">
                    <span ng-show="amendmentIntent==1" class="glyphicon glyphicon-ok"></span> revoked</a>
                </li>

            </ul>
        </div>

           <!--  <div class="btn-group" style="padding:2px 0px 2px 2px" data-toggle="buttons">
                <label class="btn btn-default btnExt"  ng-click="amendmentIntent=-2;buildQuery()">
                    <input type="radio" value="-1"  ng-model="amendmentIntent" name="amendmentIntent">All</button>
                </label>
                <label class="btn btnExt btn-success" ng-click="amendmentIntent=-1;buildQuery()">
                    <input type="radio" value="1"  ng-model="amendmentIntent" name="amendmentIntent">Unchanged</button>
                </label>
                <label class="btn btn-primary btnExt" ng-click="amendmentIntent=0;buildQuery()">
                    <input type="radio" value="0" ng-model="amendmentIntent" name="amendmentIntent" >Amended {{getAmendmentFacets(0)}}</button>
                </label>
                <label class="btn btn-danger btnExt" ng-click="amendmentIntent=1;buildQuery()">
                    <input type="radio" value="1" ng-model="amendmentIntent" name="amendmentIntent">Revoked {{getAmendmentFacets(1)}}</button>
                </label>
            </div> -->
            <!-- <span search-filter-dates title='Date of expiry of the permit' query='permitExpiryDate'></span> -->
        </div>
    </div>

    <div class="main_filter" ng-show="showNationalFilters || absCheckpoint.selected" ng-class="{'check_active': absCheckpoint.selected}">
        <label>
            <span class="badge badge-white pull-right">{{absCheckpoint.count}}</span>
            <input type="checkbox" ng-model="absCheckpoint.selected" bind-indeterminate="absCheckpoint.indeterminate" ng-change="refresh(absCheckpoint.selected,'absCheckpoint')">
            <span class="filter-text">Checkpoints  </span>
        </label>
        <div ng-show="absCheckpoint.selected" class="subfilters-section">
            <!-- <span km-toggle placeholder="Inform all authorities" ng-model="cpInformAllAuthorities"></span>
            <br> -->
            <span km-select multiple ng-model="cpJurisdiction" binding-type="string" placeholder="Jurisdictions" items="options.cpJurisdictions()"></span>
        </div>
    </div>

    <div class="main_filter" ng-show="showNationalFilters || absCheckpointCommunique.selected" ng-class="{'check_active': absCheckpointCommunique.selected}">
        <label>
            <span class="badge badge-white pull-right">{{absCheckpointCommunique.count}}</span>
            <input type="checkbox" ng-model="absCheckpointCommunique.selected" bind-indeterminate="absCheckpointCommunique.indeterminate" ng-change="refresh(absCheckpointCommunique.selected,'absCheckpointCommunique')">
            <span class="filter-text">Checkpoint Communiqués   </span>
        </label>
        <!-- <div ng-show="absCheckpointCommunique.selected" class="subfilters-section">
            <div km-select multiple required name="cpcoriginCountries" binding-type="string" ng-model="cpcoriginCountries" items="options.countries()" placeholder="Origin Countries"></div>
        </div> -->
    </div>



    <h3>
        <a ng-click="showReferenceFilters=!showReferenceFilters" ng-href="#" style="color:#FA6938"><i class="fa" ng-class="{'fa-caret-right':!showReferenceFilters, 'fa-caret-down':showReferenceFilters}"></i> &nbsp; Reference Records</a>
    </h3>
    <div class="main_filter" ng-show="showReferenceFilters || resource.selected" ng-class="{'check_active': resource.selected}">
        <label>
            <span class="badge badge-white pull-right">{{resource.count}}</span>
            <input type="checkbox" ng-model="resource.selected" bind-indeterminate="resource.indeterminate" ng-change="refresh(resource.selected,'resource')">
            <span class="filter-text">Virtual Library Records   </span>
        </label>
        <div ng-show="resource.selected" class="subfilters-section">
            <div km-select multiple name="vlrresourceTypes" binding-type="string" ng-model="vlrresourceTypes" items="options.resourceTypes()" placeholder="Type of resource"></div></br>
            <!-- <input type="number" required name="vlrpublicationYear" ng-model="vlrpublicationYear" placeholder="Publication year" /> -->
            <div km-select multiple name= "vlrLanguages" binding-type="string" ng-model="vlrLanguages" items="options.languages()" placeholder="Available Languages"></div>
        </div>
    </div>

    <div class="main_filter" ng-show="showReferenceFilters || meeting.selected" ng-class="{'check_active': meeting.selected}">
        <label>
            <span class="badge badge-white pull-right">{{meeting.count}}</span>
            <input type="checkbox" ng-model="meeting.selected" bind-indeterminate="meeting.indeterminate" ng-change="refresh(meeting.selected,'meeting')">
            <span class="filter-text">Meetings &amp; Meeting Outcomes </span>
        </label>
        <div ng-show="meeting.selected" class="subfilters-section">
            <div km-select ng-model="mtgRange" binding-type="string" placeholder="Meeting year" items="options.meetingYear()"></div>
        </div>
    </div>

    <div class="main_filter" ng-show="showReferenceFilters || notification.selected" ng-class="{'check_active': notification.selected}">
        <label>
             <span class="badge badge-white pull-right">{{notification.count}}</span>
            <input type="checkbox" ng-model="notification.selected" bind-indeterminate="notification.indeterminate" ng-change="refresh(notification.selected,'notification')">
            <span class="filter-text">Notifications</span>
        </label>
    </div>

    <div class="main_filter" ng-show="showReferenceFilters || pressRelease.selected" ng-class="{'check_active': pressRelease.selected}">
        <label>
            <span class="badge badge-white pull-right">{{pressRelease.count}}</span>
            <input type="checkbox" ng-model="pressRelease.selected" bind-indeterminate="pressRelease.indeterminate" ng-change="refresh(pressRelease.selected,'pressRelease')">
            <span class="filter-text">Press Releases </span>
        </label>
    </div>

    <div class="main_filter" ng-show="showReferenceFilters || statement.selected" ng-class="{'check_active': statement.selected}">
        <label>
            <span class="badge badge-white pull-right">{{statement.count}}</span>
            <input type="checkbox" ng-model="statement.selected" bind-indeterminate="statement.indeterminate" ng-change="refresh(statement.selected,'statement')">
            <span class="filter-text">Statements </span>
        </label>
    </div>

    <div class="main_filter" ng-show="showReferenceFilters || news.selected" ng-class="{'check_active': news.selected}">
        <label>
            <span class="badge badge-white pull-right">{{news.count}}</span>
            <input type="checkbox" ng-model="news.selected" bind-indeterminate="news.indeterminate" ng-change="refresh(news.selected,'news')">
            <span class="filter-text">News</span>
        </label>
    </div>
</div>
