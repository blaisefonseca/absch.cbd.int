<div ng-controller="editMeasure" class="md-whiteframe-z1" >

    <div ng-include="'/app/views/forms/edit/edit_header.html'"></div>

    <div style="padding: 24px;background-color:#FFF;border-bottom:2px solid #ccc;">

                <span block-region activate="isLoading()" ng-if="isLoading()"></span>
  <div class="registerpage-content">
    <div>
      <div class="alert alert-error" ng-show="hasError()">
        <strong>Error as occured...</strong>
        <div>{{error}}</div>
      </div>

      <!--<div ng-show="isLoading()">
        <i class="fa fa-spinner fa-spin"></i> Loading...
      </div>-->

      <div ng-show="!isLoading() && status!='hidden'">
        <div workflow-std-buttons document="getCleanDocument()" languages="document.header.languages"  hide-timer="false"/>
            <div km-document-validation ng-model="validationReport"></div>

        <form class="editForm" name="editForm" style="margin-top:10px">
          <div ng-show="tab=='edit'" km-tab="edit">
            <legend name="formInfo" style="display:none"></legend>
          <section>
            <legend>Is this an amendment to previous legislative, administrative or policy measure? </legend>
            <div class="help-info">This section is only relevant when the measure being submitted is amending an existing measure.  If the measure being registered in the ABS Clearing-House is an amendment to an existing measure or a part of it, make sure that the measure being amended is already registered in the ABS Clearing-House in order to be able to provide a link to the existing record. This will allow the two records to be displayed together.</div>
            <div class="row">
              <div class="col-xs-12">
                <div class="km-control-group" name="isAmendment" required caption="Is this an amendment to previous legislative, administrative or policy measure? ">
                  <div class="help-block"></div>
                  <div km-yes-no required ng-model="document.isAmendment" locales="document.header.languages"></div>
                </div>
              </div>
            </div>

             <!-- IF NO SECTION -->
            <div ng-class="{'disable':!document.isAmendment, 'bg-white':document.isAmendment}" class="well no-shadow" style="padding-top:0;padding-bottom:0;" >
            <div class="row" >
              <div class="col-xs-12">
                <h3 ng-show="!document.isAmendment" style="color:black!important;">
                  If no, the following information is not required.
                </h3>
                <h3 ng-show="document.isAmendment==true" style="color:black!important;">
                  Please select the previously registered record that is being amended.
                </h3>

                <div class="km-control-group">
                    <div class="km-control-group" name="amendedMeasures" caption="List of amended measures">
                        <div class="help-info">Please indicate if this measure amends a previously registered one by providing a cross-reference link to the amended measure.</div>
                         <div document-selector ng-model="document.amendedMeasures"
                                             question="amendedMeasures"
                                             government="document.government"
                                             schema="measure"></div>

                        <!--<div km-select multiple name="amendedMeasures" ng-model="document.amendedMeasures"items="options.measures()" placeholder="Please select ..."></div>-->
                    </div>
                </div>

                <div class="km-control-group" name="amendmentsDescription" caption="Summary of the amendment(s)">
                   <div class="help-info">This will help users to understand the relationship between the two measures. The summary should be as simple and as a concise as possible.</div>
                  <div km-rich-textbox ng-model="document.amendmentsDescription" rows="4" locales="document.header.languages"></div>
                </div>

              </div>
            </div>
            </div>
          </section>


          <section>
            <legend>General information</legend>
            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" name="government" required caption="Country">
                  <div afc-autocomplete required name="government" ng-disabled="userGovernment()" ng-model="document.government" source="options.countries" filter="genericFilter" mapping="genericMapping" selectbox="true" placeholder="Please select a country..."></div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" required name="title" caption="Title of the legislative administrative or policy measures on access and benefit-sharing">
                  <div km-textbox-ml name="title" required ng-model="document.title" locales="document.header.languages"></div>
                </div>
              </div>
            </div>


            <div class="row">
              <div class="col-xs-12">
                <div required class="km-control-group" name="status" caption="Legal status of the measure">
                   <div class="help-info">
                       Examples of non-legally binding ABS measures are national strategies, policy documents, guidelines, etc. For non-legally binding ABS measure, the date of adoption is to be provided.
                        A measure is legally binding when it creates obligations and rights which are legally enforceable. In this case, the date of entry into force of the ABS measure is to be provided.
                        Measures in draft form can also be included in the ABS Clearing-House with a view to sharing information on progress towards implementation. Once the draft measure is adopted or entered into force, the status of the measure can be updated without needing to register the existing information again.
                        Sometimes measures have a limited applicability in time. If you are introducing this type of measure, you are required to include the expiry date.
                        Including retired measures can be useful for providing legal certainty about genetic resources and associated traditional knowledge accessed under a previous legal framework. If a measure already registered in the ABS Clearing-House is retired or is no longer applicable, you only need to edit the measure and change its status to retired, indicating the date from which the measure was no longer applicable.
                   </div>
                  <div style="width:250px;" afc-autocomplete required name="status"  ng-model="document.status" source="options.statuses" filter="genericFilter" mapping="genericMapping" selectbox="true" placeholder="Select legal status..."></div>
                </div>
              </div>
               <div class="clearfix"></div>
              <div class="col-xs-12">
                <div ng-show="isNotLegallyBinded()">
                  <div class="km-control-group" name="adoption" required caption="Please provide the date of adoption">
                  <div km-date placeholder="YYYY-MM-DD" name="adoption" required ng-model="document.adoption"></div>
                  </div>
                </div>
                <div ng-show="isLegallyBinded()">
                  <div class="km-control-group" name="entryIntoForce" required caption="Please provide the date of entry into force">
                    <div km-date placeholder="YYYY-MM-DD" name="entryIntoForce" required ng-model="document.entryIntoForce"></div>
                  </div>
                </div>
                <div ng-show="isRetired()">
                  <div class="km-control-group" name="retired" required caption="Please provide the date from which the measure was no longer applicable">
                    <div km-date placeholder="YYYY-MM-DD" name="retired" required ng-model="document.retired">
                    </div>
                  </div>
                </div>
                <div  ng-show="isLegallyBinded() || isNotLegallyBinded()" class="km-control-group" name="limitedApplication" caption="Indicate the date the measure is no longer in force if the measure has a limited application in time" >
                  <div km-date placeholder="YYYY-MM-DD" name="limitedApplication" ng-model="document.limitedApplication"></div>
                </div>
              </div>
            </div>


            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" required name="type" caption="Type of document/measure">
                  <div km-term-radio name="type"  ng-model="document.type"
                  terms="options.typeOfDocuments()" description="true" binding-type="term" ng-click="save()" required></div>

                </div>
              </div>
            </div>
            <div class="row" ng-show="isTypeOther()">
              <div class="col-sm-12">
                  <div class="km-control-group" required name="otherTypeName" caption="Name of the other type of document/measure">
                  <div km-textbox-ml required ng-model="document.otherTypeName" locales="document.header.languages"></div>
                  </div>
              </div>
            </div>


            <div class="row">

              <div class="col-xs-12">
                <div class="km-control-group" required name="jurisdiction" caption="Area of jurisdiction">
                    <div class="help-info">
                    Please specify the geographical area of application of the ABS measure. The measure could apply at regional or multilateral,
                    national or federal, subnational or community levels. For multilateral or regional measures, please indicate which countries are
                    covered by the measure by selecting from the drop down menu the relevant geographical or political/economic group. The list is
                    extensive; therefore it is likely that that the specific group to which the measure applies is already listed. However, if the measure
                    applies to a group of countries that is not covered by any of the existing groups, select each of the countries concerned by the
                    measure separately from the drop down menu.</div>

                  <div style="width:250px;" afc-autocomplete required name="jurisdiction"  ng-model="document.jurisdiction" source="options.jurisdictions" filter="genericFilter" mapping="genericMapping" selectbox="true" placeholder="Select area of jurisdiction..."></div>
                  <div ng-if="isJurisdictionRegional()">
                        <div class="color-red" ng-if="!document.government.identifier">Please first select a country.</div>
                  </div>

                </div>
              </div>

              <div class="col-xs-12">

                <div ng-if="isJurisdictionRegional() && !canAddRegionalMeasure()">
                  <div class="alert alert-warning"><h4>
                      Please note that regional or multilateral measures only need to be registered once in the ABS Clearing-House and that each of the
                      countries selected as being covered by the regional measure will have the measure displayed as part of their legal framework in
                      their country profile. It is recommended that one country agrees to register the measure on behalf of the regional organization or
                      the group of countries that share the same measure.
                  </h4></div>
                </div>

                <div ng-if="isJurisdictionRegional() && canAddRegionalMeasure()">
                    <div class="help-info">Please note that regional or multilateral measures only need to be registered once in the ABS Clearing-House and that each of
                    the countries selected as being covered by the regional measure will have the measure displayed as part of their legal framework
                    in their country profile. It is recommended that one country agrees to register the measure on behalf of the regional organization
                    or the group of countries that share the same measure.</div>

                  <div class="km-control-group" required name="jurisdictionRegions" caption="Country name(s) and/or Geographical or political/economic group(s)">
                    <button type="button" class="btn btn-info">European Union Member States</button>
                     <!--<div  km-select required name="jurisdictionRegions" ng-model="document.jurisdictionRegions" items="options.regions()" multiple ></div>-->
                  </div>
                </div>

                <div ng-show="isJurisdictionSubNationalOrCommunity()">
                  <div class="km-control-group" required name="jurisdictionName" caption="Name of the sub-national / community / other jurisdiction">
                  <div km-textbox-ml required ng-model="document.jurisdictionName" locales="document.header.languages"></div>
                  </div>
                </div>
            </div>
            </div>


            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" name="description" caption="Brief description of the document including  objective and scope (max. 300 words)">
                    <div class="help-info">The brief description of the document including objective and scope is meant to serve as a short summary of the measure. This information will be displayed in the summary of the record, so it is important that the description is clear and concise.</div>
                  <div km-rich-textbox ng-model="document.description" rows="4" locales="document.header.languages"></div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" name="isModelContractualClause" caption="Does the measure contain model contractual clauses?">
                  <div km-yes-no required ng-model="document.isModelContractualClause" locales="document.header.languages"></div>
                  <div ng-show="document.isModelContractualClause">
                    <div class="km-control-group" style="margin:10px;" name="isModelContractualClauseDesc" caption="Please provide further information">
                        <div km-textbox-ml ng-model="document.isModelContractualClauseDescription" locales="document.header.languages"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            </section>


            <section>
            <legend name="documentsDetails">Document details</legend>
            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" required name="documents" caption="Document text (in its original language)">
                    <div class="help-info">An attachment is preferred. Otherwise, provide the location of the document, i.e. web address including the URL of the website
                    (e.g. http://absch.cbd.int/) and the name of the website (e.g. “Access and Benefit-sharing Clearing-House”).</div>
                  <div km-link required name="documents" ng-model="document.documents" extensions="options.documentLinksExt" allow-link="true" allow-file="true" identifier="document.header.identifier"></div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" name="documentTranslations" caption="Translation in one of the official UN languages">
                  <div km-link name="documentTranslations" ng-model="document.documentTranslations" extensions="options.documentTranslationsExt" allow-link="true" allow-file="true" identifier="document.header.identifier"></div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" name="linkedMeasures" caption="Relationship with other measures">
                  <div class="help-info">Please indicate if there is any relationship between this document/measure and other law, regulation, guidelines, administrative
                    or policy measures. For example, if the measure being submitted is implementing an existing law. This information will assist in
                    displaying information on the national legal framework. This section of the form will allow you to link two measures in case they
                    are related, for example if the measure being submitted is implementing an existing law. The two measures will then be displayed
                    together.</div>
                <!--<div km-select multiple name="linkedMeasures" ng-model="document.linkedMeasures"items="options.measures()" placeholder="Please select ..."></div>-->

                <div document-selector ng-model="document.linkedMeasures"
                                             question="linkedMeasures"
                                             government="document.government"
                                             schema="measure"></div>


                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" name="linkedMeasuresDescription" caption="Please describe the relationship ">
                  <div km-rich-textbox ng-model="document.linkedMeasuresDescription" rows="4" placeholder="" locales="document.header.languages"></div>
                </div>
              </div>
            </div>
            <!-- <hr>
            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" name="otherDocuments" caption="Any other relevant information">
                  <div km-link name="otherDocuments" ng-model="document.otherDocuments" allow-link="true" allow-file="true" identifier="document.header.identifier"></div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" name="otherInformation" caption="Short description">
                  <div km-textbox-ml ng-model="document.otherInformation" rows="4" placeholder="" locales="document.header.languages"></div>
                </div>
              </div>
            </div>

     -->
    </section>
          <section>
            <legend>Regulatory contact information</legend>
            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" required name="authorities" caption="Contact Institution">

                      <div document-selector ng-model="document.authorities"
                                             question="authorities"
                                             government="document.government"
                                             schema="(authority contact)"></div>


                </div>
              </div>
            </div>
            </section>

            <section>
            <legend>
                <label for="absMeasures"> Elements of the measure</label>
            </legend>
            <div class="help-info">Please select which elements are included in the measure being registered and identify the relevant articles or sections of the
                measure for each of the selected elements. This information will assist to in displaying information on the national legal
                framework.</div>


                <div ng-if="document.absMeasuresForDelete">
        			<div class="alert alert-warning">
                        <h4 class="color-blue">
                                <i class='fa fa-info-circle'></i>
                                <strong>
                                   The format for saving the <i>Elements of Measures</i> has changed. This record must be manually updated.
                                   The below list of <i>Elments of measures</i> is from the previous version and is meant for reference purposes in order to help you update this record.
                                  </strong>
                            
                        </h4>
        	            <span ng-repeat="elm in document.absMeasuresForDelete">
        	                {{$index+1}}. {{elm|term}} <span ng-if="elm.customValue">{{elm.customValue}}</span>
        	                    &nbsp;<span ng-if="elm.section">({{elm.section|lstring}})</span>
        	                <br/>
        	            </span>
        			</div>
                </div>



            <!-- // <input type="radio" name="rd_{{term.identifier}}" ng-model="identifiers[term.identifier]" autocomplete="off" value="{{term.identifier}}">
            // <input type="radio" name="rd_{{term.identifier}}" ng-model="identifiers[term.identifier]" autocomplete="off" value="{{term.identifier}}">
           -->
            <style>
              .measureChecked
              {
                /*background-color:#428BCA!important;*/
                /*//margin: 2px 2px 2px -5px;*/
                /*padding: 10px 5px 10px 5px;*/
                font-weight:bold;
              }
              .boldText{
                font-weight: bold;

              }
              .normalText{
                font-weight: normal;
              }
              .paddingleft0 {
                  background-color: #eee;
              }
              .bg-main{ background-color: #eee!important;}
              .btn-sm{
                  font-size: 10px;
              }
              .whiteBG{
                  background-color:white!important;
              }
              .btop{
                    border-top:1px solid #ddd;
              }
              .spacing30{
                   margin-left:30px!important;
              }
              .padding-left-120{
                  padding-left:120px!important;
              }
              #scopeTableRow #filterText {
                  display:none;
              }
              #scopeAddRow td, #scopeAddRow tr  { border:0!important;}
              .matrix-btn{float:left;font-size:12px!important; background-color:white; border:0!important;}

            </style>




            <script type="text/ng-template"  id="/app/views/forms/edit/edit-measure.directive/abs">

              <ul>
              <li >
                  <div>
                      <table style="width:100%" cellspacing="0" cellpadding="0">
                          <tbody>
                              <tr class="paddingleft0">
                                  <td style="text-align:left;vertical-align:middle;" id="24E809DA-20F4-4457-9A8A-87C08DF81E8A_help">

                                      <label for="24E809DA-20F4-4457-9A8A-87C08DF81E8A" name="24E809DA-20F4-4457-9A8A-87C08DF81E8A">
                                          &nbsp;
                                          <span title="" style="position:relative;top:2px;" class="boldText">
                                              <span >Scope of application of the measure</span>
                                          </span>
                                      </label>
                                  </td>
                                  <td style="text-align:left;vertical-align:middle">

                                  </td>
                                  <td style="width:250px;text-align:right;vertical-align:middle">
                                  </td>
                              </tr>
                          </tbody>
                      </table>
                  </div>
                  <ul style="list-style:none;padding:0;margin:0;" id="24E809DA-20F4-4457-9A8A-87C08DF81E8A">
                      <li>
                          <table style="width:100%" cellspacing="0" cellpadding="0">
                              <tbody>
                                  <tr class="whiteBG btop" id="qt_{{term.identifier}}">
                                      <td style="text-align:left;vertical-align:middle;width:125px" >
                                          <div class="btn-group ng-scope matrix-btn" >
                                              <label class="btn ">
                                                  <input type="radio"  ng-model="binding.geneticResource.answer" name="rd_CD2EF4DD-1B94-4283-9E97-8DDC7F23CB6F" ng-value="true"
                                                   ng-change="binding.geneticResource.section=undefined;binding.geneticResource.elements=undefined;binding.geneticResource.identifier='CD2EF4DD-1B94-4283-9E97-8DDC7F23CB6F'"> Yes
                                              </label>
                                              <label class="btn ">
                                                  <input type="radio"  ng-model="binding.geneticResource.answer"
                                                  name="rd_CD2EF4DD-1B94-4283-9E97-8DDC7F23CB6F" ng-value="false"
                                                  ng-change="binding.geneticResource.section=undefined;binding.geneticResource.elements=undefined;binding.geneticResource.identifier='CD2EF4DD-1B94-4283-9E97-8DDC7F23CB6F'"> No
                                              </label>
                                          </div>
                                      </td>
                                      <td style="text-align:left;vertical-align:middle;" id="CD2EF4DD-1B94-4283-9E97-8DDC7F23CB6F_help">

                                          <label for="qt_CD2EF4DD-1B94-4283-9E97-8DDC7F23CB6F" name="CD2EF4DD-1B94-4283-9E97-8DDC7F23CB6F">
                                              &nbsp;
                                              <span title=""  class="bold">
                                                  <span >Does it cover all genetic resources?</span>
                                              </span>
                                          </label>
                                      </td>
                                      <td style="text-align:left;vertical-align:middle">

                                      </td>
                                      <td style="width:250px;text-align:right;vertical-align:middle">
                                          <lable style="display:none" for="sec_CD2EF4DD-1B94-4283-9E97-8DDC7F23CB6F">Please enter the relavant article which covers genetic resource.</label>
                                          <div ng-show="binding.geneticResource.answer" km-textbox-ml="" ng-model="binding.geneticResource.section" locales="locales"
                                              ng-required="binding.geneticResource.answer" placeholder="example: Article 14.2"  ngChange="updateScopeGR()">
                                          </div>
                                      </td>
                                  </tr>
                              </tbody>
                          </table>
                          <div ng-if="binding.geneticResource.answer==false" style="margin: 0  0 10px 20px;">
                              <div>Please select elements from the list below and click add. Please add as many elements as necessary.</div>
                              <label style="display:none" for="col_CD2EF4DD-1B94-4283-9E97-8DDC7F23CB6F">Please select atleast one element which covers genetic resource.</label>

                              <table class="table" style="padding:0;margin:0 0 15px 0;width:auto!important;">
                                <tr>
                                    <td>
                                          <div km-select multiple name="grTypes" ng-model="geneticResource.types"items="options.grTypes()"
                                            placeholder="Please select genetic resource types" api="grTypesApi"></div>
                                          </div>
                                           <span class="bold" style="margin: 0 10px;"> found in </span>
                                          <div km-select multiple name="grArea" ng-model="geneticResource.areas"items="options.grAreas()"
                                            placeholder="Please select areas of access" api="grAreasApi"></div>
                                          </div>
                                      </td>
                                      <td>
                                        <button type="button" class="btn btn-primary" ng-click="addGRRecord(geneticResource, grTypesApi, grAreasApi)">Add</button>
                                      </td>
                                  </tr>
                              </table>
                              <table class="table  table-striped table-hover" style="padding:0;margin:0;" ng-if="binding.geneticResource.elements">
                                <tbody>
                                <tr ng-repeat="element in binding.geneticResource.elements">
                                      <td class="text-center" style="vertical-align:middle;width:30px;">
                                        <i class="fa fa-remove color-red" style="cursor:pointer" ng-click="deleteElement(element)"/>
                                      </td>
                                      <td style="vertical-align:middle">
                                        <span ng-repeat="area in element.types">
                                          {{area|term}}<span ng-if="!$last">,</span>
                                        </span>
                                      </td>
                                      <td style="vertical-align:middle">
                                        <class="bold" style="margin: 0 10px;"> found in </span>
                                     </td>
                                     <td style="vertical-align:middle">
                                        <span ng-repeat="area in element.areas">
                                            {{area|term}} <span ng-if="!$last">,</span>
                                        </span>
                                      </td>
                                      <td class="text-right"  style="width:250px;text-align:right;vertical-align:middle">
                                          <div class="pull-right" km-textbox-ml="" ng-model="element.section" locales="locales"
                                              ng-required="true" placeholder="example: Article 14.2">
                                          </div>
                                      </td>
                                </tr>
                                </tbody>
                                </table>

                          </div>
                      </li>
                      <li >
                          <table style="width:100%" cellspacing="0" cellpadding="0">
                              <tbody>
                                  <tr class="whiteBG btop" id="qt_{{term.identifier}}">
                                      <td style="text-align:left;vertical-align:middle;width:125px" >
                                          <div class="btn-group matrix-btn ng-scope" >
                                              <label class="btn">
                                                  <input type="radio"  ng-model="identifiers['B8A150E054154AD3AD97856ABD485E90']" name="rd_B8A150E054154AD3AD97856ABD485E90"
                                                  ng-value="true" ng-change="sections['B8A150E054154AD3AD97856ABD485E90']=undefined"> Yes
                                              </label>
                                              <label class="btn">
                                                  <input type="radio"  ng-model="identifiers['B8A150E054154AD3AD97856ABD485E90']" name="rd_B8A150E054154AD3AD97856ABD485E90"
                                                  ng-value="false"  ng-change="sections['B8A150E054154AD3AD97856ABD485E90']=undefined"> No
                                              </label>
                                          </div>
                                      </td>
                                      <td style="text-align:left;vertical-align:middle;" id="B8A150E054154AD3AD97856ABD485E90_help">

                                          <label for="qt_B8A150E054154AD3AD97856ABD485E90" name="B8A150E054154AD3AD97856ABD485E90">
                                              &nbsp;
                                              <span title=""  class="bold">
                                                  <span >Does it cover traditional knowledge associated with genetic resources?</span>
                                              </span>
                                          </label>
                                      </td>
                                      <td style="text-align:left;vertical-align:middle">

                                      </td>
                                      <td style="width:250px;text-align:right;vertical-align:middle">
                                          <div ng-show="identifiers['B8A150E054154AD3AD97856ABD485E90']" km-textbox-ml="" ng-model="sections['B8A150E054154AD3AD97856ABD485E90']" locales="locales"
                                              ng-required="identifiers['B8A150E054154AD3AD97856ABD485E90']" placeholder="example: Article 14.2">
                                          </div>
                                      </td>
                                  </tr>

                                  <tr class="whiteBG btop" id="qt_{{term.identifier}}">

                                        <td style="text-align:left;vertical-align:middle;width:125px" >
                                            <div class="btn-group matrix-btn ng-scope" >
                                                <label class="btn">
                                                    <input type="radio"  ng-model="identifiers['2A8B467A-5FC5-41C5-8D7B-71B78E3AFEDD']" name="rd_2A8B467A-5FC5-41C5-8D7B-71B78E3AFEDD"
                                                    ng-value="true" value="false"  ng-change="sections['2A8B467A-5FC5-41C5-8D7B-71B78E3AFEDD']=undefined"> Yes
                                                </label>
                                                <label class="btn">
                                                    <input type="radio"  ng-model="identifiers['2A8B467A-5FC5-41C5-8D7B-71B78E3AFEDD']" name="rd_2A8B467A-5FC5-41C5-8D7B-71B78E3AFEDD"
                                                    ng-value="false" value="true"  ng-change="sections['2A8B467A-5FC5-41C5-8D7B-71B78E3AFEDD']=undefined"> No
                                                </label>
                                            </div>
                                        </td>
                                        <td style="text-align:left;vertical-align:middle;" id="2A8B467A-5FC5-41C5-8D7B-71B78E3AFEDD_help">

                                          <label for="qt_2A8B467A-5FC5-41C5-8D7B-71B78E3AFEDD" name="2A8B467A-5FC5-41C5-8D7B-71B78E3AFEDD">
                                              &nbsp;
                                              <span title=""  class="bold">
                                                  <span >Does it include provisions on temporal scope?</span>
                                              </span>
                                          </label>
                                      </td>
                                      <td style="text-align:left;vertical-align:middle">

                                      </td>
                                      <td style="width:250px;text-align:right;vertical-align:middle">
                                          <div ng-show="identifiers['2A8B467A-5FC5-41C5-8D7B-71B78E3AFEDD']" km-textbox-ml="" ng-model="sections['2A8B467A-5FC5-41C5-8D7B-71B78E3AFEDD']" locales="locales"
                                              ng-required="identifiers['2A8B467A-5FC5-41C5-8D7B-71B78E3AFEDD']" placeholder="example: Article 14.2">
                                          </div>
                                      </td>
                                  </tr>
                                  <tr class="whiteBG btop" id="qt_{{term.identifier}}">
                                      <td style="text-align:left;vertical-align:middle;width:125px" >
                                          <div class="btn-group matrix-btn ng-scope" >
                                              <label class="btn">
                                                  <input type="radio"  ng-model="identifiers['5B6177DD-5E5E-434E-8CB7-D63D67D5EBED#24E809DA-20F4-4457-9A8A-87C08DF81E8A']"
                                                  ng-change="initializeOther({identifier:'5B6177DD-5E5E-434E-8CB7-D63D67D5EBED#24E809DA-20F4-4457-9A8A-87C08DF81E8A'})"
                                                  name="rd_scopeOthers" ng-value="true" value="true"> Yes
                                              </label>
                                              <label class="btn">
                                                  <input type="radio"  ng-model="identifiers['5B6177DD-5E5E-434E-8CB7-D63D67D5EBED#24E809DA-20F4-4457-9A8A-87C08DF81E8A']"
                                                  ng-change="deleteOther({identifier:'5B6177DD-5E5E-434E-8CB7-D63D67D5EBED#24E809DA-20F4-4457-9A8A-87C08DF81E8A'})"
                                                  name="rd_scopeOthers" ng-value="false" value="false"> No
                                              </label>
                                          </div>
                                      </td>
                                      <td style="text-align:left;vertical-align:middle;" id="5B6177DD-5E5E-434E-8CB7-D63D67D5EBED#24E809DA-20F4-4457-9A8A-87C08DF81E8A_help">

                                          <label for="qt_5B6177DD-5E5E-434E-8CB7-D63D67D5EBED#24E809DA-20F4-4457-9A8A-87C08DF81E8A" name="5B6177DD-5E5E-434E-8CB7-D63D67D5EBED#24E809DA-20F4-4457-9A8A-87C08DF81E8A">
                                              &nbsp;
                                              <span title=""  class="bold">
                                                  <span >Any other elements relevant to scope of application of the measure?</span>
                                              </span>
                                          </label>
                                      </td>
                                      <td style="text-align:left;vertical-align:middle">
                                      </td>
                                      <td style="width:250px;text-align:right;vertical-align:middle">
                                      </td>
                                  </tr>
                                  <tr ng-if="identifiers['5B6177DD-5E5E-434E-8CB7-D63D67D5EBED#24E809DA-20F4-4457-9A8A-87C08DF81E8A']">
                                    <td colspan="3">
                                        <span onload="otherElements = otherTerms['5B6177DD-5E5E-434E-8CB7-D63D67D5EBED#24E809DA-20F4-4457-9A8A-87C08DF81E8A']" ng-include="'/app/views/forms/edit/edit-measure.directive/abs/inner/other'"></span>
                                    </td>
                                  </tr>
                              </tbody>
                          </table>

                      </li>

                  </ul>
                </li>

                <li ng:repeat="term in rootTerms" ng-include="'/app/views/forms/edit/edit-measure.directive/abs/inner'"></li>
              </ul>
            </script>
            <!--//  {{term.identifier}}
              // ng:if="!term.broaderTerms || (isYesNo(term.identifier) && term.level <=2) || isParentSelected(term.identifier, term.level)">

                // <span ng-if="term.identifier.indexOf('5B6177DD-5E5E-434E-8CB7-D63D67D5EBED')>=0" style="width:200px;text-align:right;vertical-align:middle">
                //   <div km-textbox-ml ng-show="identifiers[term.identifier]"  style="width:200px;text-align:right;vertical-align:middle" placeholder="new element"
                //    ng-model="otherCustomValues[term.identifier]" locales="locales" ng:if="!term.narrowerTerms"></div>
                //   </div>
                // </span>
          -->
            <script type="text/ng-template"  id="/app/views/forms/edit/edit-measure.directive/abs/inner">
              <div ng-class="{measureChecked : identifiers[term.identifier]}" style=""
              ng:if="!isStaticIdentifier(term.identifier) && (!term.broaderTerms || isParentSelected(term.identifier, term.level))">
                  <label style="display:none" for="col_{{term.identifier}}">
                      Please indicate when elements are covered under {{term.title||term.name | lstring:locale}}
                  </label>
                <table style="width:100%" cellspacing="0" cellpadding="0" id="col_{{term.identifier}}">
                <tr  ng:class="{'paddingleft0 btop' : isMainElement(term.identifier), 'btop':isYesNo(term.identifier),
                'spacing30':!isYesNo(term.identifier), 'measureChecked' : identifiers[term.identifier]}" id="qt_{{term.identifier}}">
                  <td style="text-align:left;vertical-align:middle;width:125px" ng:if="isYesNo(term.identifier)">
                      <div class="btn-group matrix-btn "  ng:class="{'bg-main' : isMainElement(term.identifier)}">
                         <label class="btn">
                           <input type="radio" ng-change="updateSelected(term, identifiers[term.identifier],'yes')" ng-model="identifiers[term.identifier]" name="rd_{{term.identifier}}"
                           ng-value="{{((term.narrowerTerms.length||0) ==0) ? true : false}}"> Yes
                         </label>
                         <label class="btn">
                             <input type="radio" ng-change="updateSelected(term, identifiers[term.identifier], 'no')" ng-model="identifiers[term.identifier]" name="rd_{{term.identifier}}"
                             ng-value="{{((term.narrowerTerms.length||0) == 0) ? false : true}}"> No
                         </label>
                     </div>
                  </td>
                  <td style="text-align:left;vertical-align:middle;" id="{{term.identifier}}_help" style=""  colspan="{{isYesNo(term.identifier) ? 1 : 2}}">
                    <label for="qt_{{term.identifier}}" name="{{term.identifier}}" >
                         &nbsp;
                         <input type="checkbox" ng-model="identifiers[term.identifier]" ng-required="IsRequired()" value="{{term.identifier}}"
                         ng:if="!isReadOnly(term.identifier) && !isYesNo(term.identifier)" />
                         <span title="{{term.description|lstring:locale}}" ng:class="{true:'bold',false:'normalText'}[isMainElement(term.identifier) || (isYesNo(term.identifier) && term.identifier.indexOf('5B6177DD-5E5E-434E-8CB7-D63D67D5EBED')< 0)]" >
                              <span ng-class="{'bold':term.identifier.indexOf('5B6177DD-5E5E-434E-8CB7-D63D67D5EBED')>=0 && isYesNo(term.identifier)}">{{term.title||term.name | lstring:locale}} </span>
                              <i ng-show="term.description" class="icon-question-sign"></i>
                         </span>
                    </label>
                    <span class="help-info" ng:if="term.description && term.description.length > 0 && term.identifier.indexOf('5B6177DD-5E5E-434E-8CB7-D63D67D5EBED')>=0" style="padding-left:25px">{{term.description}}</span>
                  </td>
                  <td style="width:250px;text-align:right;vertical-align:middle">
                    <label style="display:none" for="sec_{{term.identifier}}">
                        Please enter relevant article for {{term.title||term.name | lstring:locale}}
                    </label>
                    <div ng-show="term.identifier.indexOf('5B6177DD-5E5E-434E-8CB7-D63D67D5EBED')<0 && ((identifiers[term.identifier] && (term.narrowerTerms.length||0) == 0) || (scopeOfMeasureTerm == term.identifier && identifiers[term.identifier]==false))"
                     km-textbox-ml ng-model="sections[term.identifier]"
                    locales="locales" ng-required="identifiers[term.identifier]" placeholder="example: Article 14.2"></div>

                  </td>
                </tr>

                <tr ng-if="term.identifier.indexOf('5B6177DD-5E5E-434E-8CB7-D63D67D5EBED')>=0 && identifiers[term.identifier]">
                  <td colspan="3">
                      <label style="display:none" for="col_{{term.identifier}}">Please select atleast one {{term.title||term.name | lstring:locale}}</label>
                      <span onload="otherElements = otherTerms[term.identifier]" ng-include="'/app/views/forms/edit/edit-measure.directive/abs/inner/other'"></span>
                  </td>
                </tr>
                </table>
              </div>
              <ul style="list-style:none;padding:0;margin:0;" id="{{term.identifier}}" >
                <li ng:repeat="term in term.narrowerTerms" ng-include="'/app/views/forms/edit/edit-measure.directive/abs/inner'"
                ng-class="{'padding-left-120':applyPadding(term)}" >
              </ul>
            </script>

            <script  type="text/ng-template"  id="/app/views/forms/edit/edit-measure.directive/abs/inner/other">
                <table class="table table-hover" style="padding:0;margin:0;width:100%;">
                  <tr ng-repeat="element in otherElements">
                        <td>
                          <i class="fa fa-remove color-red" style="cursor:pointer"  ng-if="otherElements.length > 1" ng-click="deleteOtherElement(element, otherElements)"/>
                        </td>
                        <td>
                            <div style="max-width:200px" km-textbox-ml="" ng-model="element.name" locales="locales"
                                ng-required="true" placeholder="bacteria" ng-change="appendEmptyOther(otherElements)">
                            </div>
                        </td>
                        <td class="pull-right">
                            <div style="max-width:200px" km-textbox-ml="" ng-model="element.section" locales="locales"
                                ng-required="true" placeholder="example: Article 14.2" ng-change="appendEmptyOther(otherElements)">
                            </div>
                        </td>
                  </tr>
                </table>
            </script>

            <div class="row">
              <div class="col-sm-12">
                <div layout="row" style="margin-bottom:5px;">
                  <div style="font-weight:bold;">Check the relevant elements of the measure</div>
                  <div flex style="text-align:right;font-weight:bold;">Add reference to relevant articles and sections</div>
                </div>

               <div edit-measure-abs name="absMeasuresMatrix" api="absMeasureApi" required ng-model="document.absMeasures" locales="document.header.languages"
                   document="document"></div>
              </div>
            </div>
          </section>



    <section>
            <legend>Additional information</legend>

            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" name="address" caption="Any other relevant information">
                  <div class="help-block">Please use this field to provide any other relevant information that may not have been addressed elsewhere in the record.</div>
                  <div km-rich-textbox ng-model="document.relevantInformation" rows="4" placeholder="" locales="document.header.languages"></div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" name="relevantDocuments" caption="Any other relevant documents">
                  <div km-link name="relevantDocuments" ng-model="document.relevantDocuments" allow-link="true" allow-file="true" identifier="document.header.identifier" ></div>
                </div>
              </div>
            </div>
            </section>
            <section>
            <legend>Notes</legend>
            <div class="row">
              <div class="col-sm-12">
                <div class="km-control-group" name="notes">
                  <div class="help-block">The “Notes” field is for your personal notes or comments and will be hidden when
                                            viewing the record. This field is not meant to be used for confidential information.</div>
                  <textarea class="form-control" name="notes" ng-model="document.notes" rows="4"></textarea>
                </div>
              </div>
            </div>
            </section>

          </div>
        </form>

        <div class="row" ng-show="tab=='review'" km-tab="review">
          <div class="col-xs-12">

            <div class="btn-group" ng-show="reviewDocument.header.languages.length>1">
                <input type="button" class="btn" ng-class="{'active' : review.locale==locale, 'btn-info' : review.locale==locale}" ng-repeat="locale in document.header.languages" ng-click="$parent.review.locale = locale" value="{{locale | uppercase}}" />
            </div>

            <div view-measure ng-model="reviewDocument" locale="review.locale" allow-drafts="true"></div>
          </div>
        </div>


<!--
    <hr style="margin-top:20px;">

        <div class="row" style="padding-top:20px;">
            <div class="col-xs-12">

                <div workflow-std-buttons document="getCleanDocument()" languages="document.header.languages" hide-timer="true"/>


            </div>
        </div> -->

      </div>
    </div>
  </div>
</div>
</div>
</div>
