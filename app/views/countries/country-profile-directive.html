<div id="search-new">

    <!--<div id="Jumbotron" class="bg-texture-green color-black" style="border-top:1px solid #555;border-bottom:2px solid #ddd;">
         <zoom-map width="100%" height="500px"  ng-attr-zoom-to="{{code}}" map-id="zoom-map-country"
 -             home-button="false" zoom-control-alpha=".1" zoom-control-right="220px">
 -            </zoom-map>
    </div>-->



    <div ng-show="!country" style="padding-left:50%">
        <i class="fa fa-spin fa-spinner fa-5x" style="margin:auto" />
    </div>

    <h4 class="link1" style="border-bottom:#ddd solid 1px;margin:0;padding: 10px 5px 10px 3px;" ng-click="showNFP = !showNFP" ng-class="{'color-litegrey': nfpCount == 0}">
        <i class="fa" ng-class="{'fa-plus':!showNFP, 'fa-minus':showNFP}" style="font-size:14px;font-weight:normal;"></i>ABS National Focal Points (NFP)
        <span class="badge pull-right" ng-class="{'bg-grey3': nfpCount==0, 'bg-black': nfpCount > 0}">{{nfpCount}}</span>
    </h4>
    <div ng-if="showNFP && nfpCount > 0" class="well bg-white">
        <div ng-repeat="doc in absch_nfp | filter:{'schema_s':'focalPoint'}">
            <result-grouped-national-record doc='doc'></result-grouped-national-record>
        </div>
    </div>


    <h4 class="link1" style="border-bottom:#ddd solid 1px;margin:0;padding: 10px 5px 10px 3px;" ng-click="showCNA = !showCNA" ng-class="{'color-litegrey': nationalAuthority == 0}">
        <i class="fa" ng-class="{'fa-plus':!showCNA, 'fa-minus':showCNA}" style="font-size:14px;font-weight:normal;"></i> Competent National Authorities (CNA)
        <span class="badge pull-right" ng-class="{'bg-grey3': nationalAuthority==0, 'bg-black': nationalAuthority > 0}">{{nationalAuthority}}</span>
    </h4>
    <div ng-if="showCNA &&  nationalAuthority > 0" class="well bg-white">
        <div ng-repeat="doc in absch_nfp | filter:{'schema_s':'authority'}" style="margin-bottom:20px;">
            <result-grouped-national-record doc='doc'></result-grouped-national-record>
        </div>
    </div>

    <h4 class="link1" style="border-bottom:#ddd solid 1px;margin:0;padding: 10px 5px 10px 3px;" ng-click="showMSR = !showMSR" ng-class="{'color-litegrey': nationalMeasure == 0}">
        <i class="fa" ng-class="{'fa-plus':!showMSR, 'fa-minus':showMSR}" style="font-size:14px;font-weight:normal;"></i> Legislative, administrative or policy measures on access and benefit-sharing (MSR)
        <span class="badge pull-right" ng-class="{'bg-grey3': nationalMeasure==0, 'bg-black': nationalMeasure > 0}">{{nationalMeasure}}</span>
    </h4>
    <div ng-if="showMSR &&  nationalMeasure > 0" class="well bg-white">
        
        <!--<div ng-repeat="doc in absch_nfp | filter:{'schema_s':'measure'}" style="margin-bottom:20px;">
            <result-grouped-national-record doc='doc'></result-grouped-national-record>
        </div>-->
          <table class="table table-striped msr-table" style="width:100%;margin-bottom:30px;">
                <tr>
                    <th></th>
                    <th ng-click="sortMeasure='title_t';reverseMeasure=!reverseMeasure">Title</th>
                    <th ng-click="sortMeasure='jurisdiction_EN_t';reverseMeasure=!reverseMeasure">Jurisdiction <i class="fa" ng-class="{'fa-caret-up':sortMeasure=='jurisdiction_EN_t' && reverseMeasure,'fa-caret-down':sortMeasure=='jurisdiction_EN_t' && !reverseMeasure}" /></th>
                    <th ng-click="sortMeasure='type_sort';reverseMeasure=!reverseMeasure">Type <i class="fa" ng-class="{'fa-caret-up':sortMeasure=='type_sort' && reverseMeasure,'fa-caret-down':sortMeasure=='type_sort' && !reverseMeasure}" /></th>
                    <th ng-click="sortMeasure='status_EN_t';reverseMeasure=!reverseMeasure">Status <i class="fa" ng-class="{'fa-caret-up':sortMeasure=='status_EN_t' && reverseMeasure,'fa-caret-down':sortMeasure=='status_EN_t' && !reverseMeasure}" /></th>
                    <th ng-click="sortMeasure='entryIntoForce_dt';reverseMeasure=!reverseMeasure">Category</th>
                    <th ng-click="sortMeasure='entryIntoForce_dt';reverseMeasure=!reverseMeasure">Date <i class="fa" ng-class="{'fa-caret-up':sortMeasure=='entryIntoForce_dt' && reverseMeasure,'fa-caret-down':sortMeasure=='entryIntoForce_dt' && !reverseMeasure}" /></th>
                </tr>
                <tr ng-repeat="measure in absMeasure = (measureMatrixDocuments|orderBy:sortMeasure:reverseMeasure)">
                    <td style="padding-left:8px;"><input type="checkbox"  ng-model="measure.measureMatrix" ></input></td>
                    <td><a target="_new" ng-href="database/record/{{measure.uniqueIdentifier_s.toUpperCase()}}">{{measure.rec_title}}</a></td>
                    <td>{{measure.rec_meta1[0]}}</td>
                    <td >{{measure.rec_meta2[0]}}</td>
                    <td>{{measure.rec_meta3[0]}}</td>
                    <td>{{measure.rec_meta4[0]}}</td>
                    <td>{{measure.rec_meta5[0]}}</td>
                </tr>
                 <tr>
                    <td class="bg-grey bold"><span class="badge">{{(measureMatrixDocuments|filter:{measureMatrix:true}).length}}</span></td>
                    <td class="bg-grey bold" >records included in matrix overview</td>
                </tr>
            </table>

        <div style="margin-bottom:20px;">
            <div ng-hide="(measureMatrixDocuments|filter:{measureMatrix:true}).length==0" measure-matrix-countries-directive documents="measureMatrixDocuments"></div>
        </div>
        <!--<div style="padding:10px; margin:0 20px;">
        <legend name="lblMSR" style="display:none"></legend>
        <div class="row table-hover table-msr" ng-hide="absMeasure.length==0" style="padding-left:5px;">
                            <div class="col-lg-1 col-md-1 col-xs-1 tableheader" ng-if="showMatrix">
                                <md-checkbox md-no-ink aria-label="Select All" ng-model="measureMatrixDocuments.selectAll" ng-click="selectAllForMatrix()" class="md-primary">
                                </md-checkbox>Matrix
                            </div>
                            <div class="col-lg-3 col-md-3 col-xs-3 tableheader" ng-click="sortMeasure='title_t';reverseMeasure=!reverseMeasure">name
                                <i class="fa" ng-class="{'fa-caret-up':(sortMeasure=='title_t' && reverseMeasure),'fa-caret-down':(sortMeasure=='title_t' && !reverseMeasure)}"></i>
                            </div>

                            <div class="col-lg-2 col-md-2 col-xs-2 tableheader" ng-click="sortMeasure='jurisdiction_EN_t';reverseMeasure=!reverseMeasure">jurisdiction <i class="fa" ng-class="{'fa-caret-up':sortMeasure=='jurisdiction_EN_t' && reverseMeasure,'fa-caret-down':sortMeasure=='jurisdiction_EN_t' && !reverseMeasure}" />
                            </div>
                            <div class="col-lg-2 col-md-2 col-xs-2 tableheader" ng-click="sortMeasure='type_sort';reverseMeasure=!reverseMeasure">type <i class="fa" ng-class="{'fa-caret-up':sortMeasure=='type_sort' && reverseMeasure,'fa-caret-down':sortMeasure=='type_sort' && !reverseMeasure}" />
                            </div>
                            <div class="col-lg-2 col-md-2 col-xs-2 tableheader" ng-click="sortMeasure='status_EN_t';reverseMeasure=!reverseMeasure">status <i class="fa" ng-class="{'fa-caret-up':sortMeasure=='status_EN_t' && reverseMeasure,'fa-caret-down':sortMeasure=='status_EN_t' && !reverseMeasure}" />
                            </div>
                            <div class="col-lg-1 col-md-1 col-xs-1 tableheader" ng-click="sortMeasure='entryIntoForce_dt';reverseMeasure=!reverseMeasure">entry into force/ adoption <i class="fa" ng-class="{'fa-caret-up':sortMeasure=='entryIntoForce_dt' && reverseMeasure,'fa-caret-down':sortMeasure=='entryIntoForce_dt' && !reverseMeasure}" />
                            </div>
                            <div class="col-lg-1 col-md-1 col-xs-1 tableheader" ng-click="sortMeasure='retired_dt';reverseMeasure=!reverseMeasure">No longer applicable <i class="fa" ng-class="{'fa-caret-up':sortMeasure=='retired_dt' && reverseMeasure,'fa-caret-down':sortMeasure=='retired_dt' && !reverseMeasure}" />
                            </div>
                        </div>
        <div class="row table-hover table-msr" ng-repeat="measure in absMeasure = (measureMatrixDocuments|orderBy:sortMeasure:reverseMeasure)">
                            <div class="row border">
                                <div class="row table-row">
                                    <div class="col-lg-1 col-md-1 col-xs-1" ng-if="showMatrix">
                                        <md-checkbox md-no-ink aria-label="Include in Measure Matrix" ng-model="measure.measureMatrix" class="md-primary">
                                        </md-checkbox>
                                    </div>
                                    <div ng-click="displayDetails=!displayDetails;showDetails(measure)">
                                        <div class="col-lg-3 col-md-3 col-xs-3">
                                            <strong class="color-blue" style="position:relative;top:-4px;"> {{measure.title_t}}</strong>

                                            <div style="font-size:11px;font-weight:bold;text-transform:uppercase;color:#666;">
                                                {{measure | uniqueID}}
                                            </div>

                                            <span ng-if="measure.ownerGovernment" style="position:relative;top:-4px;">
                                                (Regional/Multilateral measure registered by {{measure.ownerGovernment|term}})
                                            </span>
                                            <i class="fa fa-refresh fa-spin" ng-show="displayDetails&& !measure.data" />
                                        </div>
                                        <div class="col-lg-2 col-md-2 col-xs-2">{{measure.jurisdiction_EN_t}}</div>
                                        <div class="col-lg-2 col-md-2 col-xs-2">{{measure.type_EN_t}}</div>
                                        <div class="col-lg-2 col-md-2 col-xs-2">{{measure.status_EN_t}}</div>
                                        <div class="col-lg-1 col-md-1 col-xs-1">
                                            <span ng-if="measure.entryIntoForce_dt">{{measure.entryIntoForce_dt|formatDate}} (entry into force)</span>
                                            <span ng-if="measure.adoption_dt">{{measure.adoption_dt|formatDate}} (adoption)</span>
                                        </div>
                                        <div class="col-lg-1 col-md-1 col-xs-1">
                                            <span ng-if="measure.retired_dt">{{measure.retired_dt|formatDate}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" ng-show="displayDetails">
                                    <i class="glyphicon glyphicon-remove-circle circle pull-right" style="position:relative;top:40px;z-index:100;font-size:20px;color:white;" ng-click="displayDetails=!displayDetails;"></i>
                                    <div class="col-xs-12 details document-show-hide" ng-show="displayDetails" record-loader document="measure.data"></div>
                                </div>
                            </div>
                        </div>
        <div class="row" ng-show="absMeasure.length==0">
                            <div class="col-lg-10 col-md-12 col-xs-12 tableheader color-orange">No Legislative, administrative or policy measures on access and benefit-sharing (MSR) available</div>
                        </div>

        </div>
        <div style="margin:0 20px;margin-top:20px;" ng-hide="measureMatrixDocuments.length==0" ng-if="showMatrix">
                        <div>
                            <p class="tableheader" style="border-bottom:1px solid #ddd;">
                                {{(measureMatrixDocuments|filter:{measureMatrix:true}).length}} selected for measures matrix
                            </p>

                        </div>
                    </div>-->
    </div>


    <h4 class="link1" style="border-bottom:#ddd solid 1px;margin:0;padding: 10px 5px 10px 3px;" ng-click="showNDB = !showNDB" ng-class="{'color-litegrey': database == 0}">
        <i class="fa" ng-class="{'fa-plus':!showNDB, 'fa-minus':showNDB}" style="font-size:14px;font-weight:normal;"></i> National Databases and Websites (NDB)
        <span class="badge pull-right" ng-class="{'bg-grey3': database==0, 'bg-black': database > 0}">{{database}}</span>
    </h4>
    <div ng-if="showNDB &&  database > 0" class="well bg-white">
        <div ng-repeat="doc in absch_nfp | filter:{'schema_s':'database'}" style="margin-bottom:20px;">
            <result-grouped-national-record doc='doc'></result-grouped-national-record>
        </div>
    </div>
    <h4 class="link1" style="border-bottom:#ddd solid 1px;margin:0;padding: 10px 5px 10px 3px;" ng-click="showCP = !showCP" ng-class="{'color-litegrey': absCheckpoint == 0}">
        <i class="fa" ng-class="{'fa-plus':!showCP, 'fa-minus':showCP}" style="font-size:14px;font-weight:normal;"></i> Checkpoints (CP)
        <span class="badge pull-right" ng-class="{'bg-grey3': absCheckpoint==0, 'bg-black': absCheckpoint > 0}">{{absCheckpoint}}</span>
    </h4>
    <div ng-if="showCP &&  absCheckpoint > 0" class="well bg-white">
        <div ng-repeat="doc in absch_nfp | filter:isCheckpoint" style="margin-bottom:20px;">
            <result-grouped-national-record doc='doc'></result-grouped-national-record>
        </div>
    </div>


    <h4 class="link1" style="border-bottom:#ddd solid 1px;margin:0;padding: 10px 5px 10px 3px;" ng-click="showIRCC = !showIRCC" ng-class="{'color-litegrey': Permit == 0}">
        <i class="fa" ng-class="{'fa-plus':!showIRCC, 'fa-minus':showIRCC}" style="font-size:14px;font-weight:normal;"></i> Internationally Recognized Certificate of Compliance (IRCC)
        <span class="badge pull-right" ng-class="{'bg-grey3': Permit==0, 'bg-black': Permit > 0}">{{Permit}}</span>
    </h4>
    <div ng-if="showIRCC &&  Permit > 0" class="well bg-white">
        <div ng-repeat="doc in absPermit = (absch_nfp|filter:isPermit|orderBy:sortPermit:reversePermit)" style="margin-bottom:20px;">
            <result-grouped-national-record doc='doc'></result-grouped-national-record>
        </div>
    </div>


    <h4 class="link1" style="border-bottom:#ddd solid 1px;margin:0;padding: 10px 5px 10px 3px;" ng-click="showCPC = !showCPC" ng-class="{'color-litegrey': absCheckpointCommunique == 0}">
        <i class="fa" ng-class="{'fa-plus':!showCPC, 'fa-minus':showCPC}" style="font-size:14px;font-weight:normal;"></i> Checkpoint Communiqués (CPC)
        <span class="badge pull-right" ng-class="{'bg-grey3': absCheckpointCommunique==0, 'bg-black': absCheckpointCommunique > 0}">{{absCheckpointCommunique}}</span>
    </h4>
    <div ng-if="showCPC &&  absCheckpointCommunique > 0" class="well bg-white">
        <div ng-repeat="doc in absCommunique = (absch_nfp|filter:isCheckpointCommunique)" style="margin-bottom:20px;">
            <result-grouped-national-record doc='doc'></result-grouped-national-record>
        </div>
    </div>


    <h4 class="link1" style="border-bottom:#ddd solid 1px;margin:0;padding: 10px 5px 10px 3px;" ng-click="showNR = !showNR" ng-class="{'color-litegrey': absNationalReport == 0}">
        <i class="fa" ng-class="{'fa-plus':!showNR, 'fa-minus':showNR}" style="font-size:14px;font-weight:normal;"></i> Interim National Report on the Implementation of the Nagoya Protocol (NR)
        <span class="badge pull-right" ng-class="{'bg-grey3': absNationalReport==0, 'bg-black': absNationalReport > 0}">{{absNationalReport}}</span>
    </h4>
    <div ng-if="showNR &&  absNationalReport > 0" class="well bg-white">
        <div ng-repeat="doc in absch_nfp|filter:isNationalReport" style="margin-bottom:20px;">
            <result-grouped-national-record doc='doc'></result-grouped-national-record>
        </div>
    </div>


</div>
