<div ng-controller="DashboardController" ng-intro-options="introOptions" ng-intro-method="startIntro" ng-intro-autostart="false">


<div style="padding-top:20px;padding-right:10px;" class="pull-right">
      <a class="pull-left" href="" ng-click="startIntro()">
        Where do I get started
        <span class="fa fa-question-circle "></span>
      </a>
    </div>


  <div class="col-xs-9" >



    <div class="registerpage-header">
      <h2>
        <span style="color:#aaa;">DASHBOARD</span>
        <span class="title">Check the status of your work in the ABSCH</span>
        <div class="pull-right" style="font-size:12px;">
          <a class="pull-right" ng-show="!help" ng-click="help=!help;" style="cursor:pointer;padding:5px;"><i class="glyphicon glyphicon-plus"></i> more </a>
          <a class="pull-right" ng-show="help" ng-click="help=!help;" style="cursor:pointer;color:#666;padding:5px;"><i class="glyphicon glyphicon-minus" ></i> less</a>
        </div>
      </h2>

      <p class="help1" ng-show="help">
        The dashboard is a personal working area where it will be possible to follow-up the status of records prepared for their publication in the ABSCH. The content of the dashboard will differ depending on the role assigned in the ABSCH (Publishing Authority (PA) or National Authorized User (NAU)).<br>
        <br>
        In this area you can check whether there are items that require your approval (in the case of the PA) or what is the status of records sent for validation of the PA (in the case of NAUs).
      </p>

    </div>

    <div class="registerpage-content">

      <div ng-show="msg" class="alert alert-success alert-dismissable">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true" ng-click="msg=''">&times;</button>
        <strong>{{msg}}</strong>
      </div>

      <!-- <div class="alert alert-info" ng-show="user.isAuthenticated">
        <p>You are signed in as: <strong>{{user.name}}</strong>

        </p>
      </div> -->

      <div class="panel panel-default">
  				<div class="panel-body">
					<h2 style="color:#333;">Welcome to the ABSCH. You are signed in! <button class="btn btn-info pull-right" ng-click="actionSignOut()">Sign out</button> </h2>
					<dl class="dl-horizontal" style="padding-top:10px;">
					  	<dt style="text-align:left">Name</dt><dd>{{user.name}}
                              <span ng-show="user.roles.indexOf('AbsPublishingAuthorities') != -1">(PA)</span>
                              <span ng-show="user.roles.indexOf('abschiac') != -1">(IAC)</span>
                              <span ng-show="user.roles.indexOf('AbsNationalAuthorizedUser') != -1">(NAU)</span>
                              <span ng-show="user.roles.indexOf('AbsNationalFocalPoint') != -1">(FP)</span>
                              <span ng-show="user.roles.indexOf('AbsAdministrator') != -1">(ABS ADMIN)</span>
                              <span ng-show="user.roles.indexOf('Administrator') != -1">(ADMIN)</span>
                          </dd>
					  	   <dt style="text-align:left;white-space:nowrap;">Primary email</dt><dd>{{user.email}}</dd>
                          <dt style="text-align:left;white-space:nowrap;">Country</dt><dd style="text-transform:uppercase;">{{user.government }}</dd>
					  	  <dt style="text-align:left;white-space:nowrap;">Phone</dt><dd>{{user.phone}}</dd>
					</dl>
                    <a href="#" ng-click="actionProfile()" >update your profile</a>

				</div>
			</div>

      <div ng-hide="user.isAuthenticated">
        <a ng-show="!user.isAuthenticated" ng-click="signIn('dashboard')" class="btn btn-info">
          <i class="glyphicon glyphicon-off"></i> SIGN IN
        </a>
      </div>
      <div class="row" id="dashboard_panels">

           <div class="col-lg-4" ng-show="compareRoles(user.roles, PAroles)">
            <div class="panel panel-danger">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-xs-6">
                    <i class="fa fa-exclamation-circle fa-5x"></i>
                  </div>
                  <div class="col-xs-6 text-right">
                    <p class="announcement-heading">{{urgentAttentionCount}}</p>
                    <p class="announcement-text">New <br>requests</p>
                  </div>
                </div>
              </div>
              <a href="/dashboard/pending">
                <div class="panel-footer announcement-bottom">
                  <div class="row">
                    <div class="col-xs-6" style="white-space:nowrap;">
                      View new requests
                    </div>
                    <div class="col-xs-6 text-right">
                      <i class="fa fa-arrow-circle-right"></i>
                    </div>
                  </div>
                </div>
              </a>
            </div>
          </div>

          <div class="col-lg-4">
            <div class="panel panel-warning">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-xs-6">
                    <i class="fa fa-clock-o  fa-5x"></i>
                  </div>
                  <div class="col-xs-6 text-right">
                    <p class="announcement-heading">{{pendingCount}}</p>
                    <p class="announcement-text">Pending requests</p>
                  </div>
                </div>
              </div>
              <a href="/dashboard/mytasks">
                <div class="panel-footer announcement-bottom">
                  <div class="row">
                    <div class="col-xs-10">
                      View pending requests
                    </div>
                    <div class="col-xs-2 text-right">
                      <i class="fa fa-arrow-circle-right"></i>
                    </div>
                  </div>
                </div>
              </a>
            </div>
          </div>

          <div class="col-lg-4">
            <div class="panel panel-success">
              <div class="panel-heading">
                <div class="row">
                  <div class="col-xs-6">
                    <i class="fa fa-check-square fa-5x"></i>
                  </div>
                  <div class="col-xs-6 text-right">
                    <p class="announcement-heading">{{completedRequestCount}}</p>
                    <p class="announcement-text">Completed requests</p>
                  </div>
                </div>
              </div>
              <a href="/dashboard/completed">
                <div class="panel-footer announcement-bottom">
                  <div class="row">
                    <div class="col-xs-10">
                      View completed requests
                    </div>
                    <div class="col-xs-2 text-right">
                      <i class="fa fa-arrow-circle-right"></i>
                    </div>
                  </div>
                </div>
              </a>
            </div>
          </div>


      </div>
      <div class="row">
        <div class="col-md-12 col-sm-12 col-sx-12">
          <div class="panel panel-default">
            <div class="panel-heading clearfix">
              <i class="icon-tag"></i>
              <h3 class="panel-title">Feeds</h3>
            </div>
            <div class="panel-body">
              <ul id="myTab" class="nav nav-tabs">
                <li class="active">
                  <a href="#activites" data-toggle="tab" data-original-title="">Activites</a>
                </li>
              </ul>
              <br>
              <div id="myTabContent" class="tab-content">
                <div class="tab-pane fade active in" id="activites">
                  <div id="scrollbar">
                    <div class="scrollbar" style="height: 280px;overflow:scroll">
                           <ul class="list-group " rel="scrollcontent1">
                            <li ng-repeat="item in userActivities" class="list-group-item">
                              {{item.title}}
                            </li>
                          </ul>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- row: 2nd isAuthenticated -->
    </div> <!-- registerpage-content -->
  </div> <!-- col-xs-9 -->
</div> <!-- controller -->
